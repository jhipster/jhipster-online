<!-- Full screen dashboard display -->

<div *ngIf="isFullScreen()" class="fullScreen bg-light" (mouseup)="onSelectTimeScale()">
    <div class="row">
        <div class="col-md-10">
            <h2><span class="fas fa-chart-area"></span>&nbsp;<span>Statistics</span></h2>
        </div>
        <div class="col-md-2" style="text-align: end">
            <button (mousedown)="toggleFullscreen();" class="btn bg-secondary text-white fullscreenBtn">
                Exit fullscreen mode
            </button>
        </div>
    </div>
    <div class="row">
        &nbsp;
        <div class="col-md-12" style="text-align: center">
            <label for="fullScreentime"><h4>Select time scale :</h4></label>
            <select id="fullScreentime" [(ngModel)]="timeScale" (ngModelChange)="onSelectTimeScale()">
                <option value="all">Generated apps</option>
                <option value="days">Last 24h</option>
                <option value="weeks">Last Month</option>
                <option value="months">This Year</option>
                <option value="years">From launch</option>
            </select>
        </div>
        <hr />
    </div>
    <div [ngStyle]="{'display': generatedApps ? 'block' : 'none'}">
        <div class="row">
            <div class="col-md-2">
                <div class="row margin-top">
                    <div class="card text-center text-white bg-secondary mb-3 numbersCard">
                        <div class="card-body">
                            <h4 class="card-text">210</h4>
                            <strong>DAILY VISITS</strong>
                        </div>
                    </div>
                </div>
                <div class="row margin-top">
                    <div class="card text-center text-white bg-secondary mb-3 numbersCard">
                        <div class="card-body">
                            <h4 class="card-text">{{countYoRc | async}}</h4>
                            <strong>GENERATED PROJECTS</strong>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-10">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='years'; onSelectTimeScale();">
                                <h5>From launch</h5>
                                <hr />
                                <div #chartTrendFull1 class="chartBox" ></div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='months'; onSelectTimeScale();">
                                <h5>This year</h5>
                                <hr />
                                <div #chartTrendFull2 class="chartBox"></div>
                            </div>
                        </div>
                    </div>
                    &nbsp;
            </div>
        </div>
        <div class="row">
            <div class="col-md-10">
                <div class="row">
                    <div class="col-md-6">
                        <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='weeks'; onSelectTimeScale();">
                            <h5>Last month</h5>
                            <hr />
                            <div #chartTrendFull3 class="chartBox"></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='days'; onSelectTimeScale();">
                            <h5>Last 24 hours</h5>
                            <hr />
                            <div #chartTrendFull4 class="chartBox"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="col-md-2">
                <div class="row margin-top">
                    <div class="card text-center text-white bg-secondary mb-3 numbersCard">
                        <div class="card-body">
                            <h4 class="card-text">{{countJdl | async}}</h4>
                            <strong>JDLs CREATED</strong>
                        </div>
                    </div>
                </div>
                <div class="row margin-top">
                    <div class="card text-center text-white bg-secondary mb-3 numbersCard">
                        <div class="card-body">
                            <h4 class="card-text">12,867</h4>
                            <strong>USERS</strong>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div [ngStyle]="{'display': generatedApps ? 'none' : 'block'}">
        <div class="row">
            <div class="col-md-6">
                <div class="categoryChart card card-body text-center text-dark">
                    <h4>React/Angular distribution</h4>
                    <hr />
                    <div class="row col-md-11 chartBoxContainer">
                        <div #chartFrameworkLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                    </div>
                    <div class="row col-md-11 chartBoxContainer">
                        <div #chartFrameworkPie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                    </div>
                    &nbsp;
                </div>
            </div>
            <div class="col-md-6">
                <div class="categoryChart card card-body text-center text-dark">
                    <h4>Maven/Gradel distribution</h4>
                    <hr />
                    <div class="row col-md-11 chartBoxContainer">
                        <div #chartBuildtoolLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                    </div>
                    <div class="row col-md-11 chartBoxContainer">
                        <div #chartBuildtoolPie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                    </div>
                    &nbsp;
                </div>
            </div>
        </div>
        <div class="categoryChart">
            <h4 style="text-align: end">Production database distribution</h4>
            <hr />
            <div class="row">
                <div class="col-md-5">
                    <div #chartDBProdPie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-7">
                    <div #chartDBProdLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
        </div>
        <div class="categoryChart">
            <h4>Cache provider</h4>
            <hr />
            <div class="row">
                <div class="col-md-7">
                    <div #chartCacheLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-5">
                    <div #chartCachePie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
        </div>
        <div class="categoryChart">
            <h4>Deployment tool used</h4>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    <div #chartDeploymentLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-6">
                    <div #chartDeploymentPie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
        </div>
        <div class="categoryChart">
            <div class="row">
                <div class="col-md-6"><h4>JHipster version used for creation</h4></div>
                <div class="col-md-6"><h4 style="text-align: end">Type of app created</h4></div>
            </div>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    <div #chartVersionLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-6">
                    <div #chartAppTypeLine class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-4">
                    <div #chartVersionPie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="chartBox chart card card-body text-center text-dark bg-light col-md-4">
                    <h4>Number of JDL entities</h4>
                    <div #chartJDL style="height: 300px;" ></div>
                </div>
                <div class="col-md-4">
                    <div #chartAppTypePie class="chartBox chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
        </div>
    </div>
</div>


<!-- Normal display -->

<div *ngIf="!isFullScreen()" class="row" (mouseup)="onSelectTimeScale()">
    <div class="col-md-10">
        <h2><span class="fas fa-chart-area"></span>&nbsp;<span>Statistics</span></h2>
    </div>
    <div class="col-md-2">
        <button (mousedown)="toggleFullscreen();" class="btn bg-secondary text-white fullscreenBtn">
            Enter fullscreen mode
        </button>
    </div>
    <div class="container">
        <p>&nbsp;</p>
        <div class="row">
            <div class="col-md-3">
                <div class="card text-center text-white bg-secondary mb-3">
                    <div class="card-body">
                        <h4 class="card-text">210</h4>
                        <strong>DAILY VISITS</strong>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center text-white bg-secondary mb-3">
                    <div class="card-body">
                        <h4 class="card-text">{{countYoRc | async}}</h4>
                        <strong>GENERATED PROJECTS</strong>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center text-white bg-secondary mb-3">
                    <div class="card-body">
                        <h4 class="card-text">{{countJdl | async}}</h4>
                        <strong>JDLs CREATED</strong>
                    </div>
                </div>
            </div>
            <div class="col-md-3">
                <div class="card text-center text-white bg-secondary mb-3">
                    <div class="card-body">
                        <h4 class="card-text">12,867</h4>
                        <strong>USERS</strong>
                    </div>
                </div>
            </div>
        </div>
        &nbsp;
        <div>
            <label for="time"><h4>Select time scale :</h4></label>
            <select id="time" [(ngModel)]="timeScale" (ngModelChange)="onSelectTimeScale()">
                <option value="all">Generated apps</option>
                <option value="days">Last 24h</option>
                <option value="weeks">Last Month</option>
                <option value="months">This Year</option>
                <option value="years">From launch</option>
            </select>
        </div>
        <hr />
        <div [ngStyle]="{'display': generatedApps ? 'block' : 'none'}">
            <div class="row">
                <div class="col-md-6">
                    <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='years'; onSelectTimeScale();">
                        <h5>From launch</h5>
                        <hr />
                        <div #chartTrend1 style="height: 300px;" ></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='months'; onSelectTimeScale();">
                        <h5>This year</h5>
                        <hr />
                        <div #chartTrend2 style="height: 300px;"></div>
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="col-md-6">
                    <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='weeks'; onSelectTimeScale();">
                        <h5>Last month</h5>
                        <hr />
                        <div #chartTrend3 style="height: 300px;"></div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="chart card card-body text-center text-dark bg-light" (click)="timeScale='days'; onSelectTimeScale();">
                        <h5>Last 24 hours</h5>
                        <hr />
                        <div #chartTrend4 style="height: 300px;"></div>
                    </div>
                </div>
            </div>
            &nbsp;
        </div>
        <div [ngStyle]="{'display': generatedApps ? 'none' : 'block'}">
            <h4>React/Angular distribution</h4>
            <hr />
            <div class="row">
                <div class="col-md-7">
                    <div #chartFrameworkLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-5">
                    <div #chartFrameworkPie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            &nbsp;
            <h4>Maven/Gradel distribution</h4>
            <hr />
            <div class="row">
                <div class="col-md-5">
                    <div #chartBuildtoolPie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-7">
                    <div #chartBuildtoolLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            &nbsp;
            <h4>Deployment tool used</h4>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    <div #chartDeploymentLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-6">
                    <div #chartDeploymentPie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            <h4>Production database distribution</h4>
            <hr />
            <div class="row">
                <div class="col-md-5">
                    <div #chartDBProdPie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-7">
                    <div #chartDBProdLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            <h4>Cache provider</h4>
            <hr />
            <div class="row">
                <div class="col-md-7">
                    <div #chartCacheLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-5">
                    <div #chartCachePie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            <h4>JHipster version used for creation</h4>
            <hr />
            <div class="row">
                <div class="col-md-6">
                    <div #chartVersionPie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-6">
                    <div #chartVersionLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            <h4>Type of app created</h4>
            <hr />
            <div class="row">
                <div class="col-md-7">
                    <div #chartAppTypeLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-5">
                    <div #chartAppTypePie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
            <h4>Number of JDL entities</h4>
            <hr />
            <div class="row">
                <div class="col-md-5">
                    <div #chartJDLPie style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
                <div class="col-md-7">
                    <div #chartJDLLine style="height: 300px;" class="chart card card-body text-center text-dark bg-light"></div>
                </div>
            </div>
        </div>
    </div>
</div>
